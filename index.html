<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CEBIRRA - WORLD</title>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!------ Include the above in your HEAD tag ---------->

	<script src="https://cdn.jsdelivr.net/jquery.validation/1.15.1/jquery.validate.min.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Kaushan+Script" rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="style.css">

</head>
<body>

		<div class="container">
        <div class="row">
			<div class="col-md-5 mx-auto">
			<div id="first">
				<div class="myform form ">
					 <div class="logo mb-3">
						 <div class="col-md-12 text-center">
							<img src="cebirra.png" style="width: 40%">
						 </div>
					</div>
                           
                           <div class="col-md-12 mb-3">
                              <p class="text-center">
                                 <button type="button" class="btn btn-danger" id="googleBtn"><i class="fa fa-google-plus"></i> Signup using Google</button>
                              </p>
                           </div>
                 
				</div>
			</div>
		</div>
      </div>   
      	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>


		<script type="module">
		  // Import the functions you need from the SDKs you need
		  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-app.js";
		  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.13.0/firebase-analytics.js";
		  import { getAuth, GoogleAuthProvider, signInWithRedirect, getRedirectResult, signInWithPopup} from "https://www.gstatic.com/firebasejs/9.13.0/firebase-auth.js";
		  // TODO: Add SDKs for Firebase products that you want to use
		  // https://firebase.google.com/docs/web/setup#available-libraries

		  // Your web app's Firebase configuration
		  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
		  const firebaseConfig = {
		    apiKey: "AIzaSyCEhBo8GFP9b63_QbP1HgPflfp1UADEHLE",
		    authDomain: "cebirraverse.firebaseapp.com",
		    databaseURL: "https://cebirraverse-default-rtdb.asia-southeast1.firebasedatabase.app",
		    projectId: "cebirraverse",
		    storageBucket: "cebirraverse.appspot.com",
		    messagingSenderId: "74765814981",
		    appId: "1:74765814981:web:1dc09a31790b58268a74ac",
		    measurementId: "G-NBQQ0M9F3Y"
		  };

		  // Initialize Firebase
		  const app = initializeApp(firebaseConfig);
		  const analytics = getAnalytics(app);
		  const provider = new GoogleAuthProvider(app);
		  const auth = getAuth(app);

		  googleBtn.addEventListener('click', (e) => {

		  	signInWithPopup(auth, provider)
			  .then((result) => {
			    // This gives you a Google Access Token. You can use it to access the Google API.
			    const credential = GoogleAuthProvider.credentialFromResult(result);
			    const token = credential.accessToken;
			    // The signed-in user info.
			    const user = result.user;

			    //alert(user.displayName);
			    localStorage.setItem('user', user.displayName);
			    localStorage.setItem('uid', user.uid);
			    window.location.href = "world";
			    
			    // ...
			  }).catch((error) => {
			    // Handle Errors here.
			    const errorCode = error.code;
			    const errorMessage = error.message;
			    // The email of the user's account used.
			    const email = error.customData.email;
			    // The AuthCredential type that was used.
			    const credential = GoogleAuthProvider.credentialFromError(error);
			    // ...
			    alert(errorMessage);
			  });
		  });
		</script>
</body>
</html>